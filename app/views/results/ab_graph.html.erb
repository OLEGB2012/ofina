<%= raw Seer::init_visualization %>

<%  provide(:title, 'Результаты|Графически')%>

<% content_for :span3 do %>      
  <div class="well sidebar-nav">  
    <ul class="nav nav-list">  
      <li class="nav-header">ГРАФИКИ</li>       
      <li><%= link_to "К странице Результаты", results_path(id: @enterprise) %></li>
      <%= render 'ab_graph_anchors'%>      
    </ul>  
  </div>  
<% end  %>

<% content_for :span9 do %>
<a name="BeginOfPage"></a>
<legend><%= image_tag("column chart 64.png") %> Аналитический баланс (Графически)</legend>  
 <table class="table table-striped table-bordered table-condensed">
    <caption style="font-size: 14px">Предприятие - <strong><em><%= @enterprise.org_name %>.</em></strong> 
              За период : <strong><%= Russian::strftime(@enterprise.rab_date_beg,"%d %B %Y г.") %> - 
                                  <%= Russian::strftime(@enterprise.rab_date_end,"%d %B %Y г.") %></strong> </caption>
     <thead>
      <tr>        
        <th><a name="G1"></a> <div class="pagination-centered"  style="font-size: 15px">Динамика строк баланса (в абсолютных значениях)</div></th>
      </tr>
     </thead>
    <tbody>
       <tr>
          <td colspan="3"><div class="pull-left">1. Итоги разделов Актива</div></td>
       </tr>  
       <tr>
         <td><div id="Active" ></div></td>
       </tr>
       <tr>
          <td colspan="3"><a name="G2"></a> <div class="pull-left"><%= link_to " (В начало страницы)", "#BeginOfPage"  %></div></td>
       </tr>
       <tr>
          <td colspan="3"><div class="pull-left">2. Итоги разделов Пассива</div></td>
       </tr> 
       <tr>
          <td><div id="Passive"></div></td>
       </tr>       
       <tr>
          <td colspan="3"><a name="G3"></a><div class="pull-left"><%= link_to " (В начало страницы)", "#BeginOfPage"  %></div></td>
       </tr>
       <tr>
          <td colspan="3"><div class="pull-left">3. Динамика Строк Раздела I. ДОЛГОСРОЧНЫЕ АКТИВЫ</div></td>
       </tr> 
       <tr>
          <td> <div id="Razdel_1"></div></td>
       </tr>
       <tr>
         <td colspan="3"><a name="G4"></a><div class="pull-left"><%= link_to " (В начало страницы)", "#BeginOfPage"  %></div></td>
       </tr>
       <tr>
          <td colspan="3"><div class="pull-left">4. Динамика Строк Раздела II. КРАТКОСРОЧНЫЕ АКТИВЫ</div></td>
       </tr> 
       <tr>
          <td> <div id="Razdel_2"></div></td>
       </tr>
       <tr>
         <td colspan="3"><a name="G5"></a><div class="pull-left"><%= link_to " (В начало страницы)", "#BeginOfPage"  %></div></td>
       </tr>
       <tr>
          <td colspan="3"><div class="pull-left">5. Динамика Строк Раздела III. СОБСТВЕННЫЙ КАПИТАЛ</div></td>
       </tr> 
       <tr>
          <td> <div id="Razdel_3"></div></td>
       </tr>
       <tr>
         <td colspan="3"><a name="G6"></a><div class="pull-left"><%= link_to " (В начало страницы)", "#BeginOfPage"  %></div></td>
       </tr>
       <tr>
          <td colspan="3"><div class="pull-left">6. Динамика Строк Раздела IV. ДОЛГОСРОЧНЫЕ ОБЯЗАТЕЛЬСТВА</div></td>
       </tr> 
       <tr>
          <td> <div id="Razdel_4"></div></td>
       </tr>
       <tr>
         <td colspan="3"><a name="G7"></a><div class="pull-left"><%= link_to " (В начало страницы)", "#BeginOfPage"  %></div></td>
       </tr>
       <tr>
          <td colspan="3"><div class="pull-left">7. Динамика Строк Раздела V. КРАТКОСРОЧНЫЕ ОБЯЗАТЕЛЬСТВА</div></td>
       </tr> 
       <tr>
          <td> <div id="Razdel_5"></div></td>
       </tr>
       <tr>
         <td colspan="3"><div class="pull-left"><%= link_to " (В начало страницы)", "#BeginOfPage"  %></div></td>
       </tr>
    </tbody>   
  </table>
 <% end  %> 
    
  <% unless @DiagType1_data.nil? %>  
    <%= raw Seer::visualize(
      @DiagType1_data, 
      :as => :line_chart,
      :in_element => 'Active',
      :series => {
        :series_label => 'name',
        :data_label   => 'rus_date_period',
        :data_method  => 'summa',
        :data_series  => @DiagType1_series
      },
      :chart_options => {
        :legend_font_size => 9,
        :height => 400,
        :width => 660,
        :axis_font_size => 11,
        :colors => ['#000099','#009900'],
        :point_size => 5})%>
  <% end %>
  
  <% unless @DiagType2_data.nil?%>
    <%= raw Seer::visualize(
      @DiagType2_data, 
      :as => :line_chart,
      :in_element => 'Passive',
      :series => {
        :series_label => 'name',
        :data_label   => 'rus_date_period',
        :data_method  => 'summa',
        :data_series  => @DiagType2_series
      },
      :chart_options => {
        :legend_font_size => 9,
        :height => 400,
        :width => 660,
        :axis_font_size => 11,
        :colors => ['#000099','#009900','#990000'],
        :point_size => 5})%>
  <% end %>
  
  <% unless @DiagType3_data.nil?%>
    <%= raw Seer::visualize(
      @DiagType3_data, 
      :as => :line_chart,
      :in_element => 'Razdel_1',
      :series => {
        :series_label => 'name',
        :data_label   => 'rus_date_period',
        :data_method  => 'summa',
        :data_series  => @DiagType3_series
      },
      :chart_options => {
        :legend_font_size => 8,
        :height => 400,
        :width => 660,
        :axis_font_size => 11,
        :colors => ['#0033FF','#33FF00','#FF0000','#003366','#336600','#660000','#000033','#003300'],
        :point_size => 5})%>
  <% end %>
  
<% unless @DiagType4_data.nil?%>
    <%= raw Seer::visualize(
      @DiagType4_data, 
      :as => :line_chart,
      :in_element => 'Razdel_2',
      :series => {
        :series_label => 'name',
        :data_label   => 'rus_date_period',
        :data_method  => 'summa',
        :data_series  => @DiagType4_series
      },
      :chart_options => {
        :legend_font_size => 8,
        :height => 400,
        :width => 660,
        :axis_font_size => 11,
        :colors => ['#0033FF','#33FF00','#FF0000','#003366','#336600','#660000','#000033','#003300'],
        :point_size => 5})%>
  <% end %>

<% unless @DiagType5_data.nil?%>
    <%= raw Seer::visualize(
      @DiagType5_data, 
      :as => :line_chart,
      :in_element => 'Razdel_3',
      :series => {
        :series_label => 'name',
        :data_label   => 'rus_date_period',
        :data_method  => 'summa',
        :data_series  => @DiagType5_series
      },
      :chart_options => {
        :legend_font_size => 8,
        :height => 400,
        :width => 660,
        :axis_font_size => 11,
        :colors => ['#0033FF','#33FF00','#FF0000','#003366','#336600','#660000','#000033','#003300'],
        :point_size => 5})%>
  <% end %>

<% unless @DiagType6_data.nil?%>
    <%= raw Seer::visualize(
      @DiagType6_data, 
      :as => :line_chart,
      :in_element => 'Razdel_4',
      :series => {
        :series_label => 'name',
        :data_label   => 'rus_date_period',
        :data_method  => 'summa',
        :data_series  => @DiagType6_series
      },
      :chart_options => {
        :legend_font_size => 9,
        :height => 400,
        :width => 660,
        :axis_font_size => 11,
        :colors => ['#0033FF','#33FF00','#FF0000','#003366','#336600','#660000'],
        :point_size => 5})%>
  <% end %>

<% unless @DiagType7_data.nil?%>
    <%= raw Seer::visualize(
      @DiagType7_data, 
      :as => :line_chart,
      :in_element => 'Razdel_5',
      :series => {
        :series_label => 'name',
        :data_label   => 'rus_date_period',
        :data_method  => 'summa',
        :data_series  => @DiagType7_series
      },
      :chart_options => {
        :legend_font_size => 8,
        :height => 400,
        :width => 660,
        :axis_font_size => 11,
        :colors => ['#0033FF','#33FF00','#FF0000','#003366','#336600','#660000','#000033'],
        :point_size => 5})%>
  <% end %>

  <%#= debug(assigns) if Rails.env.development?%>
 
 